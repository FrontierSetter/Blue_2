<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport"
        content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <title>大屏数据可视化 - 模板</title>
    <link rel="stylesheet" href="css/app.css" />
    <link rel="stylesheet" href="css/mine.css" />
    

    <!-- JQuery -->
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- 弹出窗口 -->
    <link rel="stylesheet" href="css/hover_window_2.css" />
    <link rel="stylesheet" href="css/hover_window.css" />
    <script type="text/javascript" src="js/hover_window_2.js"></script>

    <!-- echarts -->
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
	<script src="https://cdn.bootcdn.net/ajax/libs/echarts/4.6.0/echarts.min.js"></script>
	<script src='js/echarts-wordcloud.min.js'></script>
	<script type="text/javascript" src="js/color.js"></script>

    <!-- semantic UI -->
    <link href="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/icon.css" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/button.css" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/table.css" rel="stylesheet">
    <link rel="stylesheet" href="semantic-ui/semantic.min.css">
    <script type="text/javascript" src="js/jquery3.3.1.js"></script>
    <script type="text/javascript" src="semantic-ui/semantic.min.js"></script>

    <!-- <script src="json/data.json"></script> -->
    <script type="text/javascript" src="js/global_config.js"></script></head>

<body>
    <div class="header">
        <h1 class="header-title" style="font-size:40px">优质制造数据展图</h1>
    </div>
    <div class="wrapper">
        <div class="content">
            <div class="col col-l">
                <div class="xpanel-wrapper xpanel-wrapper-50">
                    <div class="xpanel xpanel-l-t">
						<div class="title">制造业发展状况<a href="./pj6_3.html" style="color: white;" class="title_link"><i class="external square alternate icon"></i></a></div>
                        <h1 class="subtitle">2020年2-12月高技术部分产业固定投资增速</h1>
                        <div id="container_1_6" style="height: 85%"></div>
                        
                    </div>
                </div>
                <div class="xpanel-wrapper xpanel-wrapper-55">
                    <div class="xpanel xpanel-l-b">
                        <!-- <div class="title">品牌实验室<a href="./pj6_1.html" style="color: white;" class="title_link"><i class="external square alternate icon"></i></a></div>
                        <h1 class="subtitle">2010-2019年各国品牌五百强企业平均品牌影响力</h1>
                        <div id="container_1_2" style="height: 90%"></div> -->
						<div class="title">投诉问题类别数量分布<a href="./pj4_4.html" style="color: white;" class="title_link"><i class="external square alternate icon"></i></a></div>
                        <h1 class="subtitle">投诉问题类别数量分布</h1>
                        <div id="container_4_6" style="height: 90%"></div>
						
                    </div>
                </div>
            </div>
            <div class="col col-c">
                <div class="xpanel-wrapper xpanel-wrapper-50">
                    <div class="xpanel xpanel-c-t">
						<div class="title">品牌实验室<a href="./pj6_1.html" style="color: white;" class="title_link"><i class="external square alternate icon"></i></a></div>
                        <h1 class="subtitle">2010-2019年各国品牌五百强企业平均品牌影响力</h1>
                        <div id="container_1_2" style="height: 85%"></div>
                        
                    </div>
                </div>
                <div class="xpanel-wrapper xpanel-wrapper-55">
                    <div class="xpanel xpanel-c-b">
                        <!-- <div class="title">CNAS数据<a href="./pj6_4.html" style="color: white;" class="title_link"><i class="external square alternate icon"></i></a></div>
                        <h1 class="subtitle">2010-2020年全国CNAS认可检验机构数量变化图</h1>
                        <div id="container_1_4" style="height: 90%"></div> -->
						<div class="title">质量竞争力数据<a href="./pj6_5.html" style="color: white;" class="title_link"><i class="external square alternate icon"></i></a></div>
                        <h1 class="subtitle">2014-2018年全国质量奖制造企业获奖数</h1>
                        <div id="container_1_5" style="height: 90%"></div>
                    </div>
                </div>
            </div>
            <div class="col col-r">
                <div class="xpanel-wrapper xpanel-wrapper-50">
                    <div class="xpanel xpanel-r-t">
						<div class="title">CNAS数据<a href="./pj6_4.html" style="color: white;" class="title_link"><i class="external square alternate icon"></i></a></div>
                        <h1 class="subtitle">2010-2020年全国CNAS认可检验机构数量变化图</h1>
                        <div id="container_1_4" style="height: 85%"></div>
                    
                    </div>
                </div>
                <div class="xpanel-wrapper xpanel-wrapper-55">
                    <div class="xpanel xpanel-r-b">
                        <!-- <div class="title">制造业发展状况<a href="./pj6_3.html" style="color: white;" class="title_link"><i class="external square alternate icon"></i></a></div>
                        <h1 class="subtitle">2020年2-12月高技术部分产业固定投资增速</h1>
                        <div id="container_1_6" style="height: 90%"></div> -->
						<div class="title">国家优质制造水平评价数据<a href="./pj4_1.html" style="color: white;" class="title_link"><i class="external square alternate icon"></i></a></div>
                        <h1 class="subtitle">2011-2018年国家优质制造指数走势图</h1>
                        <div id="container_1_1" style="height: 90%"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
</body>

</html>

<script>
    var data_1 = {};

    function demo_pj4_4(res){
        data_1 = res;
		console.log(data_1);
    }
</script>
<script src="data/data_pj4_4.json?callback=demo_pj4_4"></script>

<!--图1-->
<script>
    var ori_data_1_1 = {};

    function callback_4_0_1(res){
        ori_data_1_1 = res;
		console.log('4_0_1.json读取成功')
		console.log(ori_data_1_1);
    }
</script>
<script src="data/4_0_1.json?callback=callback_4_0_1"></script>

<script>

	var dom_1_1 = document.getElementById("container_1_1");
	var myChart_1_1 = echarts.init(dom_1_1, 'chalk');
	var app_1_1 = {};

	function view_4_0_1_change(){
		console.log("4_0_1 change")
		// Document.getElementById('view_2_1_1').innerHTML
		console.log(document.getElementById('view_4_0_1').value)
		document.getElementById('view_4_0_1').innerHTML = document.getElementById('view_4_0_1').value
	}

	//折线图
	var option_4_0_1 = {
		textStyle: {
            fontSize: fontSize_all_legend,
        },
		tooltip: {
			trigger: 'axis',
			axisPointer: {            // 坐标轴指示器，坐标轴触发有效
				type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
			}
		},
		toolbox: {
			show: true,
			itemSize: echart_toolbox_size, 
            orient: 'vertical',
            left: 'right',
            top: 'center',
			feature: {
				dataView: {
					show: true, 
					readOnly: false,
					optionToContent: function(opt) {
						// console.log(opt)
						var axisData = opt['xAxis'][0]['data'];
						var series = opt['series'];
						console.log("start show")
						// console.log(axisData)
						// console.log(series)
						var table = '<textarea id="view_4_0_1" onchange="view_4_0_1_change()" style="width: 100%; height: 100%; font-family: monospace; font-size: 14px; line-height: 1.6rem; color: rgb(0, 0, 0); border-color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">\n';
						// table += option_9_1_1['series'][0]['name'];
						// table += '\n';
						table += "年份"
						for(var i = 0; i < option_4_0_1['legend']['data'].length; ++i){
							table += (','+option_4_0_1['legend']['data'][i]);
						}
						table += '\n';

						for (var i = 0, l = axisData.length; i < l; i++) {
							table += axisData[i];
							for(var j = 0; j < series.length; ++j){
								// if(series[j].data[i] == undefined){
								// 	table += (',null'+series[j].data[i]);

								// }
								table += (','+series[j].data[i]);
							}
							table += '\n';
						}
						table += '</textarea>'
						// table += '</tbody></table></div>';
						// console.log(table)
						return table;
						// return option_2_1_1['xAxis']['data']
					},
					contentToOption:function(HTMLDomElement, opt){
						console.log("start save 1_1")

						var plain_tex = HTMLDomElement.firstChild.innerHTML;
						var arr_tex = plain_tex.split('\n')

						var legend_1_1 = arr_tex[0].split(',').slice(1);
						var valid_num = legend_1_1.length;

						var X_1_1 = [];
						var Y_1_1 = [];

						while(Y_1_1.length < valid_num){
							Y_1_1.push([])
						}

						for(var i = 1; i < arr_tex.length; ++i){
							cur_pair = arr_tex[i].split(',');
							// if(cur_pair.length != valid_num){
							// 	// console.alert('wrong data')
							// 	continue
							// }
							// if(cur_pair[0] == '' || cur_pair[0] == undefined){
							// 	continue
							// }
							
							if(cur_pair.length < valid_num+1 || cur_pair[0].length == 0){
								continue;
							}

							X_1_1.push(cur_pair[0]);

							for(var j = 1,k = 0; j < cur_pair.length && k < Y_1_1.length; ++j, ++k){
								Y_1_1[k].push(cur_pair[j]);
							}
							// Y_9_1.push(cur_pair[1]);
						}

						option_4_0_1['legend']['data'] = legend_1_1;
						option_4_0_1['xAxis'][0]['data'] = X_1_1;

						option_4_0_1['series'] = [];

						for(var i = 0; i < Y_1_1.length; ++i){
							option_4_0_1['series'].push({
								name: legend_1_1[i],
								type: "line",//折线图
								// stack: "抽查情况",
								data: Y_1_1[i],
							})
						}
						
						myChart_1_1.setOption(option_4_0_1);

						var Link = document.createElement('a');
						Link.download = "4_0_1.json";
						Link.style.display = 'none';
						// 字符内容转变成blob地址
						var blob = new Blob(['callback_4_0_1('+JSON.stringify(option_4_0_1)+')']);
						Link.href = URL.createObjectURL(blob);
						// 触发点击 	
						document.body.appendChild(Link);
						Link.click();
						// 然后移除
						document.body.removeChild(Link);
						return opt
					},
				},
				magicType: {show: true, type: ['line','bar','stack','tiled']},
				// restore: {show: true},
				saveAsImage: {show: true}
			}
		},
		legend: {
			data: ["中国", "美国", "德国", "日本", "英国", "法国", "韩国"],
			textStyle: { //图例文字的样式
				color: color_legend,
				fontSize: fontSize_all_legend
			},
		},
		xAxis: [
			{
				type: 'category',
				data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],
			axisLabel:{
				textStyle: { //图例文字的样式
					color: color_axis,
					fontSize: fontSize_axis_label
				},
			}
			}
		],
		yAxis: [
			{
				type: 'value',
				name: '国家优质制造指数',
				axisLabel:{
					textStyle: { //图例文字的样式
						color: color_axis,
						fontSize: fontSize_axis_label
					},
				}
				// max: 365,
			}
		],
		series: [
			{
				name: '美国',
				type: 'line',
				// stack: '抽查情况',
				data: [120, 132, 101, 134, 90, 230, 210]
			},
			{
				name: '德国',
				type: 'line',
				// stack: '抽查情况',
				data: [220, 182, 191, 234, 290, 330, 310]
			},
			{
				name: '日本',
				type: 'line',
				// stack: '抽查情况',
				data: [120, 132, 101, 134, 90, 230, 210]
			},
			{
				name: '中国',
				type: 'line',
				// stack: '抽查情况',
				data: [220, 182, 191, 234, 290, 330, 310]
			},
			{
				name: '英国',
				type: 'line',
				// stack: '抽查情况',
				data: [220, 182, 191, 234, 290, 330, 310]
			},
			{
				name: '法国',
				type: 'line',
				// stack: '抽查情况',
				data: [220, 182, 191, 234, 290, 330, 310]
			},
			{
				name: '韩国',
				type: 'line',
				// stack: '抽查情况',
				data: [220, 182, 191, 234, 290, 330, 310]
			}


		]
	};


	option_4_0_1['series'] = ori_data_1_1['series'];
	option_4_0_1['legend']['data'] = ori_data_1_1['legend']['data'];
	option_4_0_1['xAxis'][0]['data'] = ori_data_1_1['xAxis'][0]['data'];

	myChart_1_1.setOption(option_4_0_1, true);

</script>

<!--图2-->
<script>
    var ori_data_1_2 = {};

    function callback_6_1_2(res){
        ori_data_1_2 = res;
		console.log('各主要国家运载火箭发射情况.json读取成功')
		console.log(ori_data_1_2);
    }
</script>
<script src="data/6_1_2.json?callback=callback_6_1_2"></script>

<script>

	var dom_1_2 = document.getElementById("container_1_2");
	var myChart_1_2 = echarts.init(dom_1_2, 'chalk');
	var app_1_2 = {};

	function view_1_2_change(){
		console.log("3_2 change")
		//console.log(document.getElementById('view_1_2').value)
		document.getElementById('view_1_2').innerHTML = document.getElementById('view_1_2').value
	}

	var option_1_2_1 = {
		tooltip: {
			trigger: 'axis',
			axisPointer: {            // 坐标轴指示器，坐标轴触发有效
				type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
			}
		},
		toolbox: {
			show: true,
			itemSize: echart_toolbox_size, 
			orient: 'vertical',
            left: 'right',
            top: 'center',
			feature: {
				dataView: {
                    show: true, 
                    readOnly: false,
                    optionToContent: function(opt) {
						console.log(opt)
						var axisData = opt['xAxis'][0]['data']
						var series = opt['series']
						console.log("start show")
						console.log(axisData)
						console.log(series)
						var table = '<textarea id="view_1_2" onchange="view_1_2_change()" style="width: 100%; height: 100%; font-family: monospace; font-size: 14px; line-height: 1.6rem; color: rgb(0, 0, 0); border-color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">年份,德国,美国,日本,中国\n'
						for (var i = 0, l = axisData.length; i < l; i++) {
							table += axisData[i] + ',' + series[0].data[i] + ',' + series[1].data[i]  +',' + series[2].data[i] + ',' + series[3].data[i]+ '\n'
						}
						table += '</textarea>'
						return table;
					},
					contentToOption: function(HTMLDomElement, opt) {
						console.log('start save')
						console.log(opt)
						console.log(HTMLDomElement.firstChild)
						var plain_tex = HTMLDomElement.firstChild.innerHTML
						var arr_tex = plain_tex.split('\n')
						console.log(arr_tex)
						xAxis_1_2 = []
						yAxis_1_2a = []
                        yAxis_1_2b = []
						yAxis_1_2c = []
                        yAxis_1_2d = []
						for(var i = 1; i < arr_tex.length; i++) {
							cur_pair = arr_tex[i].split(',')
							if(cur_pair.length != 5) {
								//console.alert('wrong data')
								continue
							}
							if(cur_pair[0] == ' ' || cur_pair[0] == undefined) {
								continue
							}
							xAxis_1_2.push(cur_pair[0])
							yAxis_1_2a.push(cur_pair[1])
                            yAxis_1_2b.push(cur_pair[2])
							yAxis_1_2c.push(cur_pair[3])
                            yAxis_1_2d.push(cur_pair[4])
						}
						console.log(xAxis_1_2)
						console.log(yAxis_1_2a)
                        console.log(yAxis_1_2b)
						console.log(yAxis_1_2c)
                        console.log(yAxis_1_2d)
						option_1_2_1['series'][0]['data'] = yAxis_1_2a;
                        option_1_2_1['series'][1]['data'] = yAxis_1_2b;
						option_1_2_1['series'][2]['data'] = yAxis_1_2c;
                        option_1_2_1['series'][3]['data'] = yAxis_1_2d;
						option_1_2_1['xAxis']['data'] = xAxis_1_2;
						myChart_1_2.setOption(option_1_2_1);

						var Link = document.createElement('a')
						Link.download = "6_1_2.json"
						Link.style.display = 'none'
						//字符内容转变成blob地址
						var blob = new Blob(['callback_6_1_2('+JSON.stringify(option_1_2_1)+')'])
						Link.href = URL.createObjectURL(blob)
						//触发点击
						document.body.appendChild(Link)
						Link.click()
						//然后移除
						document.body.removeChild(Link)
						return opt
                    },
                },
				magicType: {show: true, type: ['line', 'bar']},
				restore: {show: true},
				saveAsImage: {show: true}
			}
		},
		legend: {
			data: ['中国', '韩国', '日本', '其他'],
			textStyle: { //图例文字的样式
				color: color_legend,
				fontSize: fontSize_all_legend
			},
		},
		xAxis: {
			type: 'category',
			data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
			axisLabel:{
				textStyle: { //图例文字的样式
					color: color_axis,
					fontSize: fontSize_axis_label
				},
			}
		},
		yAxis: [
            {
                type: 'value',
                axisLabel: {
                    fontSize: fontSize_axis_label
                }
            }
        ],
		series: [
            {
                name: '销量',
                type: 'bar',
                data: [1,2,3],
            },
            {
                name: '汽车市场占比',
                type: 'bar',
                data: [],
            },
			{
                name: '销量',
                type: 'bar',
                data: [1,2,3],
            },
            {
                name: '汽车市场占比',
                type: 'bar',
                data: [],
            }
        ]
	};

	
	var X_3_2 = ori_data_1_2['xAxis']['data'];
	var Y_3_2 = ori_data_1_2['series'];

	option_1_2_1['legend']['data'] = ori_data_1_2['legend']['data'];
	option_1_2_1['xAxis']['data'] = X_3_2;

	for(var i = 0; i < Y_3_2.length; ++i){
		option_1_2_1['series'][i]['data'] = Y_3_2[i]['data'];
		option_1_2_1['series'][i]['name'] = Y_3_2[i]['name'];
	}

	myChart_1_2.setOption(option_1_2_1);



</script>

<!--图3-->
<script>
	var data_front4 = {};

	function demo_pj4_4(res) {
		data_front4 = res;
		console.log(data_front4);
	}
</script>
<script src="data/data_pj4_4.json?callback=demo_pj4_4"></script>
<script>

	var dom_4 = document.getElementById("container_1_3");
	var myChart_4 = echarts.init(dom_4, 'chalk');
	var app_4 = {};

	console.log(data_front4["4-1投诉问题类别数量分布（件）"])
	var data_4 = data_front4["4-1投诉问题类别数量分布（件）"];
	var class_4 = data_4[0];

	var option_4_1 = {
		tooltip: {
			trigger: 'axis',
			axisPointer: {            // 坐标轴指示器，坐标轴触发有效
				type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
			},

		},
		toolbox: {
			show: true,
			itemSize: echart_toolbox_size,
			orient: 'vertical',
            left: 'right',
            top: 'center',
			feature: {
				dataView: { show: true, readOnly: false },
				magicType: { show: true, type: ['line', 'bar', 'stack', 'tiled'] },
				// restore: {show: true},
				saveAsImage: { show: true },
				myTool2: {
					show: true,
					title: '切换到饼图',
					icon: 'image://img/shuju-data.png',
					onclick: function () {
						myChart_4.setOption(option_4_2, true);
						curIsPie_4 = true;
					}
				},
				myTool3: {
					show: true,
					title: '切换到词云',
					icon: 'image://img/yun.png',
					onclick: function () {
						myChart_4.setOption(option_4_3, true);
						curIsPie_4 = false;
					}
				},
			}
		},
		legend: {
			data: class_4,
			textStyle: { //图例文字的样式
				color: color_legend,
				fontSize: fontSize_all_legend
			},
		},
		xAxis: [
			{
				type: 'category',
				data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],
				axisLabel: {
					textStyle: { //图例文字的样式
						color: color_axis,
						fontSize: fontSize_axis_label
					},
				}
			}
		],
		yAxis: [
			{
				type: 'value',
				axisLabel: {
					textStyle: { //图例文字的样式
						color: color_axis,
						fontSize: fontSize_axis_label
					},
				}
			}
		],
		series: [
			{
				name: '锅炉',
				type: 'bar',
				stack: '抽查情况',
				data: [
					12028,
					11596,
					12355,
					12213,
					9377,
					8457,
					7937,
					7850,
					7608,
					6029
				]
			},
			{
				name: '固定式压力容器',
				type: 'bar',
				stack: '抽查情况',
				data: [
					96831,
					107986,
					125706,
					123542,
					102186,
					106608,
					109989,
					105420,
					101213,
					103377
				]
			},
			{
				name: '移动式电容器',
				type: 'bar',
				stack: '抽查情况',
				data: [
					687,
					684,
					771,
					814,
					820,
					831,
					840,
					852,
					860,
					0
				]
			},
			{
				name: '电梯',
				type: 'bar',
				stack: '抽查情况',
				data: [
					107632,
					118447,
					133397,
					149147,
					157528,
					171802,
					184543,
					201925,
					222103,
					238664
				]
			},
			{
				name: '起重机械',
				type: 'bar',
				stack: '抽查情况',
				data: [
					102437,
					111691,
					96244,
					101251,
					89661,
					93972,
					96611,
					88921,
					80216,
					75868
				]
			},
			{
				name: '场(厂)内机动车辆',
				type: 'bar',
				stack: '抽查情况',
				data: [
					14491,
					17494,
					43707,
					52554,
					55302,
					59883,
					64701,
					67329,
					69870,
					73238
				]
			},
			{
				name: '大型游乐设施',
				type: 'bar',
				stack: '抽查情况',
				data: [
					294,
					323,
					338,
					308,
					312,
					314,
					311,
					308,
					305,
					303
				]
			},
			{
				name: '客运索道',
				type: 'bar',
				stack: '抽查情况',
				data: [
					2,
					2,
					1,
					1,
					1,
					1,
					1,
					1,
					1,
					1
				]
			}
		]
	};

	// var 20 = 25
	var option_4_2 = {
		toolbox: {
			show: true,
			itemSize: echart_toolbox_size,
			orient: 'vertical',
            left: 'right',
            top: 'center',
			feature: {
				dataView: { show: true, readOnly: false },
				// magicType: {show: true, type: ['line','bar']},
				// restore: {show: true},
				saveAsImage: { show: true },

				myTool1: {
					show: true,
					title: '切换到柱状图',
					icon: 'image://img/shuju-bar.png',
					onclick: function () {
						myChart_4.setOption(option_4_1, true);
						curIsPie_4 = false;
					}
				},
				myTool3: {
					show: true,
					title: '切换到词云',
					icon: 'image://img/yun.png',
					onclick: function () {
						myChart_4.setOption(option_4_3, true);
						curIsPie_4 = false;
					}
				},
			}
		},
		legend: {
			data: class_4,
			textStyle: { //图例文字的样式
				color: color_legend,
				fontSize: fontSize_all_legend
			},
		},
		tooltip: {},
		dataset: {
			source: [
				['product', '2008', '2009', '2010', '2011', '2012', '2013', '2014', '2015', '2016', '2017'],
				[
					"锅炉",
					12028,
					11596,
					12355,
					12213,
					9377,
					8457,
					7937,
					7850,
					7608,
					6029
				],
				[
					"固定式压力容器",
					96831,
					107986,
					125706,
					123542,
					102186,
					106608,
					109989,
					105420,
					101213,
					103377
				],
				[
					"移动式电容器",
					687,
					684,
					771,
					814,
					820,
					831,
					840,
					852,
					860,
					0
				],
				[
					"电梯",
					107632,
					118447,
					133397,
					149147,
					157528,
					171802,
					184543,
					201925,
					222103,
					238664
				],
				[
					"起重机械",
					102437,
					111691,
					96244,
					101251,
					89661,
					93972,
					96611,
					88921,
					80216,
					75868
				],
				[
					"场(厂)内机动车辆",
					14491,
					17494,
					43707,
					52554,
					55302,
					59883,
					64701,
					67329,
					69870,
					73238
				],
				[
					"大型游乐设施",
					294,
					323,
					338,
					308,
					312,
					314,
					311,
					308,
					305,
					303
				],
				[
					"客运索道",
					2,
					2,
					1,
					1,
					1,
					1,
					1,
					1,
					1,
					1
				]
			]
		},
		series: [{
			type: 'pie',
			radius: '40%',
			// radius: 60,
			name: '2014',
			center: ['16.6%', '30%'],
			label: {
				formatter: '{d}%',
				color: color_axis
			},
			encode: {
				itemName: 'product',
				value: '2014'
			},
			// roseType: "radius"
			// No encode specified, by default, it is '2012'.
		}, {
			type: 'pie',
			radius: '40%',
			// radius: 60,
			name: '2015',
			center: ['50%', '30%'],
			label: {
				formatter: '{d}%',
				color: color_axis
			},
			encode: {
				itemName: 'product',
				value: '2015'
			},
			// roseType: "radius"
		}, {
			type: 'pie',
			radius: '40%',
			// radius: 60,
			name: '2016',
			center: ['83.4%', '30%'],
			label: {
				formatter: '{d}%',
				color: color_axis
			},
			encode: {
				itemName: 'product',
				value: '2016'
			},
			// roseType: "radius"
		}, {
			type: 'pie',
			radius: '40%',
			// radius: 60,
			name: '2017',
			center: ['16.6%', '75%'],
			label: {
				formatter: '{d}%',
				color: color_axis
			},
			encode: {
				itemName: 'product',
				value: '2017'
			},
			// roseType: "radius"
			// No encode specified, by default, it is '2012'.
		}, {
			type: 'pie',
			radius: '40%',
			name: '2018',
			center: ['50%', '75%'],
			label: {
				formatter: '{d}%',
				color: color_axis
			},
			encode: {
				itemName: 'product',
				value: '2018'
			},
			// roseType: "radius"
			// No encode specified, by default, it is '2012'.
		}, {
			type: 'pie',
			radius: '40%',
			name: '2019',
			center: ['83.4%', '75%'],
			label: {
				formatter: '{d}%',
				color: color_axis
			},
			encode: {
				itemName: 'product',
				value: '2019'
			},
			// roseType: "radius"
			// No encode specified, by default, it is '2012'.
		},]
	};

	option_4_3 = {
		// title: {
		// 	text: '热点分析',
		// 	link: 'https://www.baidu.com/s?wd=' + encodeURIComponent('ECharts'),
		// 	x: 'center',
		// 	textStyle: {
		// 		fontSize: 23
		// 	}

		// },
		// backgroundColor: '#F7F7F7',
		tooltip: {
			show: true
		},
		toolbox: {
			show: true,
			itemSize: echart_toolbox_size,
			orient: 'vertical',
            left: 'right',
            top: 'center',
			feature: {
				dataView: { show: true, readOnly: false },
				saveAsImage: { show: true },
				myTool1: {
					show: true,
					title: '切换到柱状图',
					icon: 'image://img/shuju-bar.png',
					onclick: function () {
						myChart_4.setOption(option_4_1, true);
						curIsPie_4 = false;
					}
				},
				myTool2: {
					show: true,
					title: '切换到饼图',
					icon: 'image://img/shuju-data.png',
					onclick: function () {
						myChart_4.setOption(option_4_2, true);
						curIsPie_4 = true;
					}
				}
			}
		},
		series: [{
			name: '投诉问题类别数量分布',
			type: 'wordCloud',
			// size: ['9%', '99%'],
			sizeRange: [40, 120],
			//textRotation: [0, 45, 90, -45],
			rotationRange: [-45, 90],
			//shape: 'circle',
			textPadding: 0,
			autoSize: {
				enable: false,
				minSize: 30
			},
			textStyle: {
				normal: {
					color: function () {
						var arr = [
							"#fc97af",
							"#87f7cf",
							"#f7f494",
							"#72ccff",
							"#f7c5a0",
							"#d4a4eb",
							"#d2f5a6",
							"#76f2f2"
						];
						return arr[Math.round(Math.random() * arr.length)];
						// return 'rgb(' + [
						// 	Math.round(Math.random() * 160),
						// 	Math.round(Math.random() * 160),
						// 	Math.round(Math.random() * 160)
						// ].join(',') + ')';
					}
				},
				emphasis: {
					shadowBlur: 10,
					shadowColor: '#333'
				}
			},
			data: [{
				name: "Jayfee",
				value: 666
			}, {
				name: "Nancy",
				value: 520
			}]
		}]
	};

	var X_4 = [];
	var Y_4 = {};

	for (var i = 0; i < class_4.length; ++i) {
		Y_4[class_4[i]] = [];
	}

	for (var i = 1; i < data_4.length; ++i) {
		X_4.push(data_4[i][0].toString());
		for (var j = 1; j < data_4[i].length; ++j) {
			Y_4[class_4[j - 1]].push(data_4[i][j])
		}
	}

	var series_4_1 = []

	for (var i = 0; i < class_4.length; ++i) {
		series_4_1.push({
			name: class_4[i],
			type: 'bar',
			stack: '抽查情况',
			data: Y_4[class_4[i]]
		})
	}

	option_4_1['xAxis'][0]['data'] = X_4;
	option_4_1['series'] = series_4_1;
	console.log(option_4_1['series'])


	var source_4_2 = []

	var arr_tmp = ['product']
	source_4_2.push(arr_tmp.concat(X_4));

	for (var i = 0; i < class_4.length; ++i) {
		arr_tmp = [class_4[i]];
		source_4_2.push(arr_tmp.concat(Y_4[class_4[i]]));
	}
	option_4_2['dataset']['source'] = source_4_2;
	console.log(option_4_2['dataset']['source'])



	var data_4_3 = []

	for (var i = 0; i < class_4.length; ++i) {
		data_4_3.push({
			name: class_4[i],
			value: Y_4[class_4[i]]
		})
	}

	option_4_3.series[0].data = data_4_3;


	myChart_4.setOption(option_4_3);
	var curIsPie_4 = true;

</script>

<!--图4-->
<script>
    var ori_data_7_1 = {};

    function callback_4_7_1(res){
        ori_data_7_1 = res;
		console.log('4_7_1.json读取成功')
		console.log(ori_data_7_1);
    }
</script>
<script src="data/4_7_1.json?callback=callback_4_7_1"></script>
<script>

	var dom_7_1 = document.getElementById("container_1_4");
	var myChart_7_1 = echarts.init(dom_7_1, 'chalk');
	var app_7_1 = {};

	function view_4_7_1_change(){
		console.log("4_7_1 change")
		// Document.getElementById('view_2_7_1').innerHTML
		console.log(document.getElementById('view_4_7_1').value)
		document.getElementById('view_4_7_1').innerHTML = document.getElementById('view_4_7_1').value
	}

	//折线图
	var option_4_7_1 = {
        textStyle: {
            fontSize: fontSize_all_legend,
        },
        tooltip: {
			trigger: 'axis',
			axisPointer: {            // 坐标轴指示器，坐标轴触发有效
				type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
			}
		},
		toolbox: {
			show: true,
			itemSize: echart_toolbox_size, 
            orient: 'vertical',
            left: 'right',
            top: 'center',
			feature: {
				dataView: {
					show: true, 
					readOnly: false,
					optionToContent: function(opt) {
						// console.log(opt)
						var axisData = opt['xAxis'][0]['data'];
						var series = opt['series'];
						console.log("start show")
						// console.log(axisData)
						// console.log(series)
						var table = '<textarea id="view_4_7_1" onchange="view_4_7_1_change()" style="width: 100%; height: 100%; font-family: monospace; font-size: 14px; line-height: 1.6rem; color: rgb(0, 0, 0); border-color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">\n';
						// table += option_9_7_1['series'][0]['name'];
						// table += '\n';
						table += "年份"
						for(var i = 0; i < option_4_7_1['legend']['data'].length; ++i){
							table += (','+option_4_7_1['legend']['data'][i]);
						}
						table += '\n';

						for (var i = 0, l = axisData.length; i < l; i++) {
							table += axisData[i];
							for(var j = 0; j < series.length; ++j){
								// if(series[j].data[i] == undefined){
								// 	table += (',null'+series[j].data[i]);

								// }
								table += (','+series[j].data[i]);
							}
							table += '\n';
						}
						table += '</textarea>'
						// table += '</tbody></table></div>';
						// console.log(table)
						return table;
						// return option_2_7_1['xAxis']['data']
					},
					contentToOption:function(HTMLDomElement, opt){
						console.log("start save 7_1")

						var plain_tex = HTMLDomElement.firstChild.innerHTML;
						var arr_tex = plain_tex.split('\n')

						var legend_7_1 = arr_tex[0].split(',').slice(1);
						var valid_num = legend_7_1.length;

						var X_7_1 = [];
						var Y_7_1 = [];

						while(Y_7_1.length < valid_num){
							Y_7_1.push([])
						}

						for(var i = 1; i < arr_tex.length; ++i){
							cur_pair = arr_tex[i].split(',');
							// if(cur_pair.length != valid_num){
							// 	// console.alert('wrong data')
							// 	continue
							// }
							// if(cur_pair[0] == '' || cur_pair[0] == undefined){
							// 	continue
							// }
							
							if(cur_pair.length < valid_num+1 || cur_pair[0].length == 0){
								continue;
							}

							X_7_1.push(cur_pair[0]);

							for(var j = 1,k = 0; j < cur_pair.length && k < Y_7_1.length; ++j, ++k){
								Y_7_1[k].push(cur_pair[j]);
							}
							// Y_9_1.push(cur_pair[1]);
						}

						option_4_7_1['legend']['data'] = legend_7_1;
						option_4_7_1['xAxis'][0]['data'] = X_7_1;

						option_4_7_1['series'] = [];

						for(var i = 0; i < Y_7_1.length; ++i){
							option_4_7_1['series'].push({
								name: legend_7_1[i],
								type: "line",//折线图
								// stack: "抽查情况",
								data: Y_7_1[i],
							})
						}
						
						myChart_7_1.setOption(option_4_7_1);

						var Link = document.createElement('a');
						Link.download = "4_7_1.json";
						Link.style.display = 'none';
						// 字符内容转变成blob地址
						var blob = new Blob(['callback_4_7_1('+JSON.stringify(option_4_7_1)+')']);
						Link.href = URL.createObjectURL(blob);
						// 触发点击 	
						document.body.appendChild(Link);
						Link.click();
						// 然后移除
						document.body.removeChild(Link);
						return opt
					},
				},
				magicType: {show: true, type: ['line','bar','stack','tiled']},
				// restore: {show: true},
				saveAsImage: {show: true}
			}
		},
		legend: {
			data: [ "数量"],
			textStyle: { //图例文字的样式
				color: color_legend,
				fontSize: fontSize_all_legend
			},
		},
		xAxis: [
			{
				type: 'category',
				data: ["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020"],
			axisLabel:{
				textStyle: { //图例文字的样式
					color: color_axis,
					fontSize: fontSize_axis_label
				},
			}
			}
		],
		yAxis: [
			{
				type: 'value',
				name: '数量',
				axisLabel:{
					textStyle: { //图例文字的样式
						color: color_axis,
						fontSize: fontSize_axis_label
					},
				}
				// max: 365,
			}
		],
		"series": [
        {
            "name": "数量",
            "type": "line",
            "data": [
                "270",
                "322",
                "330",
                "349",
                "407",
                "396",
                "455",
                "493",
                "561",
                "606",
                "630"
            ]
        }
    ]
	};


	option_4_7_1['series'] = ori_data_7_1['series'];
	option_4_7_1['legend']['data'] = ori_data_7_1['legend']['data'];
	option_4_7_1['xAxis'][0]['data'] = ori_data_7_1['xAxis'][0]['data'];

	myChart_7_1.setOption(option_4_7_1, true);

</script>

<!--图5-->
<!--解决本地json跨域问题-->
<script>
    var alldata = {};
    function callback5(res) {
        alldata = res;
    }
</script>
<script src="dataproc/pj6-data/data-5.json?callback=callback5"></script>
<script>
    var ori_data_0_5 = {}
    function callback_0_5(res){
        ori_data_0_5 = res;
		console.log('5_0_5.json读取成功')
		console.log(ori_data_0_5)
    }
</script>
<script src="data/6_0_5.json?callback=callback_0_5"></script>

<!--配置页面 1-5 的Echart图-->
<script>
    var dom_1_5 = document.getElementById("container_1_5");
    var myChart_1_5 = echarts.init(dom_1_5, 'chalk');
    /*
    var data_1_5 = alldata["14-18届全国质量奖制造企业获奖数（2014-2018年）"]
    var xAxis_1_5 = [] //年份
    var yAxis_1_5a = [] //数量
    for (var i = 1; i < data_1_5.length; ++i) {
        xAxis_1_5.push(data_1_5[i][0])
        yAxis_1_5a.push(data_1_5[i][1])
    }
    */
    var xAxis_1_5 = ori_data_0_5['xAxis']['data'] //年份
	var yAxis_1_5a = ori_data_0_5['series'][0]['data'] //数量
    
    function view_0_5_change(){
		console.log("0_5 change")
		//console.log(document.getElementById('view_0_5').value)
		document.getElementById('view_0_5').innerHTML = document.getElementById('view_0_5').value
	}
    var option_1_5 = {
        textStyle: {
			fontSize: fontSize_all_title,
		},
		tooltip: {
            trigger: 'axis',
			axisPointer: {
                type: 'shadow'        
            }
		},
		toolbox: {
			show: true,
			itemSize: echart_toolbox_size,
			orient: 'vertical',
            left: 'right',
            top: 'center',
            feature: {
                dataView: {
                    show: true, 
                    readOnly: false,
                    optionToContent: function(opt) {
						console.log(opt)
						var axisData = opt['xAxis'][0]['data']
						var series = opt['series']
						console.log("start show")
						console.log(axisData)
						console.log(series)
						var table = '<textarea id="view_0_5" onchange="view_0_5_change()" style="width: 100%; height: 100%; font-family: monospace; font-size: 14px; line-height: 1.6rem; color: rgb(0, 0, 0); border-color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">年份,数量\n'
						for (var i = 0, l = axisData.length; i < l; i++) {
							table += axisData[i] + ',' + series[0].data[i] + '\n'
						}
						table += '</textarea>'
						return table;
					},
					contentToOption: function(HTMLDomElement, opt) {
						console.log('start save')
						console.log(opt)
						console.log(HTMLDomElement.firstChild)
						var plain_tex = HTMLDomElement.firstChild.innerHTML
						var arr_tex = plain_tex.split('\n')
						console.log(arr_tex)
						xAxis_1_5 = []
						yAxis_1_5a = []
						for(var i = 1; i < arr_tex.length; i++) {
							cur_pair = arr_tex[i].split(',')
							if(cur_pair.length != 2) {
								//console.alert('wrong data')
								continue
							}
							if(cur_pair[0] == ' ' || cur_pair[0] == undefined) {
								continue
							}
							xAxis_1_5.push(cur_pair[0])
							yAxis_1_5a.push(cur_pair[1])
						}
						console.log(xAxis_1_5)
						console.log(yAxis_1_5a)
						option_1_5['series'][0]['data'] = yAxis_1_5a;
						option_1_5['xAxis']['data'] = xAxis_1_5;
						myChart_1_5.setOption(option_1_5);

						var Link = document.createElement('a')
						Link.download = "6_0_5.json"
						Link.style.display = 'none'
						//字符内容转变成blob地址
						var blob = new Blob(['callback_0_5('+JSON.stringify(option_1_5)+')'])
						Link.href = URL.createObjectURL(blob)
						//触发点击
						document.body.appendChild(Link)
						Link.click()
						//然后移除
						document.body.removeChild(Link)
						return opt
                    },
                },
                magicType: {show: true, type: ['line', 'bar']},
                restore: {show: true},
                saveAsImage: {show: true}
            }
		},	
		calculable: true,
        legend: {
            data: ['数量'],
            textStyle: {
                color: '#F0F8FF'
            }
        },
        xAxis: {
			type: 'category',
			name: '年份',
			data: xAxis_1_5,
			axisLine: {
                lineStyle: {
                    color: color_axis
                }
			},
			axisLabel: {
                fontSize: fontSize_axis_label
            }
		},
        yAxis: {
			type: 'value',
			name: '数量',
			axisLine: {
                lineStyle: {
                    color: color_axis
                }
			},
			axisLabel: {
				formatter: '{value}',
				fontSize: fontSize_axis_label
			}
		},
        series: [
            {
                name: '数量',
                type: 'bar',
                data: yAxis_1_5a,
            },
        ]
    };
    option_1_5['series'][0]['data'] = yAxis_1_5a;
	option_1_5['xAxis']['data'] = xAxis_1_5;
    if (option_1_5 && typeof option_1_5 === 'object') {
        myChart_1_5.setOption(option_1_5);
        console.log(data_1_5)
    }
</script>

<!--图6-->
<script>
    var ori_data_3_5 = {};

    function callback_6_3_5(res){
        ori_data_3_5 = res;
		console.log('6_3_5.json读取成功')
		console.log(ori_data_3_5);
    }
</script>
<script src="data/6_3_5.json?callback=callback_6_3_5"></script>

<script>

	var dom_3_5 = document.getElementById("container_1_6");
	var myChart_3_5 = echarts.init(dom_3_5, 'chalk');
	var app_3_5 = {};

	function view_3_5_1_change(){
		console.log("3_5_1 change")
		// Document.getElementById('view_2_1_1').innerHTML
		console.log(document.getElementById('view_3_5_1').value)
		document.getElementById('view_3_5_1').innerHTML = document.getElementById('view_3_5_1').value
	}

	// 柱状图 
	var option_3_5_1 = {
		tooltip: {
			trigger: 'axis',
			axisPointer: {            // 坐标轴指示器，坐标轴触发有效
				type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
			}
		},
		toolbox: {
			show: true,
			itemSize: echart_toolbox_size, 
            orient: 'vertical',
            left: 'right',
            top: 'center',
			feature: {
				dataView: {
					show: true, 
					readOnly: false,
					optionToContent: function(opt) {
						// console.log(opt)
						var axisData = opt['xAxis'][0]['data'];
						var series = opt['series'];
						console.log("start show")
						// console.log(axisData)
						// console.log(series)
						var table = '<textarea id="view_3_5_1" onchange="view_3_5_1_change()" style="width: 100%; height: 100%; font-family: monospace; font-size: 14px; line-height: 1.6rem; color: rgb(0, 0, 0); border-color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">\n';
						// table += option_9_1_1['series'][0]['name'];
						// table += '\n';
						table += "年份"
						for(var i = 0; i < option_3_5_1['legend']['data'].length; ++i){
							table += (','+option_3_5_1['legend']['data'][i]);
						}
						table += '\n';

						for (var i = 0, l = axisData.length; i < l; i++) {
							table += axisData[i];
							for(var j = 0; j < series.length; ++j){
								// if(series[j].data[i] == undefined){
								// 	table += (',null'+series[j].data[i]);

								// }
								table += (','+series[j].data[i]);
							}
							table += '\n';
						}
						table += '</textarea>'
						// table += '</tbody></table></div>';
						// console.log(table)
						return table;
						// return option_2_1_1['xAxis']['data']
					},
					contentToOption:function(HTMLDomElement, opt){
						console.log("start save 3_5")

						var plain_tex = HTMLDomElement.firstChild.innerHTML;
						var arr_tex = plain_tex.split('\n')

						var legend_3_5 = arr_tex[0].split(',').slice(1);
						var valid_num = legend_3_5.length;

						var X_3_5 = [];
						var Y_3_5 = [];

						while(Y_3_5.length < valid_num){
							Y_3_5.push([])
						}

						for(var i = 1; i < arr_tex.length; ++i){
							cur_pair = arr_tex[i].split(',');
							// if(cur_pair.length != valid_num){
							// 	// console.alert('wrong data')
							// 	continue
							// }
							// if(cur_pair[0] == '' || cur_pair[0] == undefined){
							// 	continue
							// }
							
							if(cur_pair.length < valid_num+1 || cur_pair[0].length == 0){
								continue;
							}

							X_3_5.push(cur_pair[0]);

							for(var j = 1,k = 0; j < cur_pair.length && k < Y_3_5.length; ++j, ++k){
								Y_3_5[k].push(cur_pair[j]);
							}
							// Y_9_1.push(cur_pair[1]);
						}

						option_3_5_1['legend']['data'] = legend_3_5;
						option_3_5_1['xAxis'][0]['data'] = X_3_5;

						option_3_5_1['series'] = [];

						for(var i = 0; i < Y_3_5.length; ++i){
							option_3_5_1['series'].push({
								name: legend_3_5[i],
								type: "bar",
								// stack: "抽查情况",
								data: Y_3_5[i],
							})
						}
						
						myChart_3_5.setOption(option_3_5_1);

						var Link = document.createElement('a');
						Link.download = "6_3_5.json";
						Link.style.display = 'none';
						// 字符内容转变成blob地址
						var blob = new Blob(['callback_6_3_5('+JSON.stringify(option_3_5_1)+')']);
						Link.href = URL.createObjectURL(blob);
						// 触发点击 	
						document.body.appendChild(Link);
						Link.click();
						// 然后移除
						document.body.removeChild(Link);
						return opt
					},
				},
				magicType: {show: true, type: ['line','bar']},
				// restore: {show: true},
				saveAsImage: {show: true}
			}
		},
		legend: {
			data: ['固定式压力容器', '电梯', '起重机', '场(厂)内机动车辆'],
			textStyle: { //图例文字的样式
				color: color_legend,
				fontSize: fontSize_all_legend
			},
		},
		xAxis: [
			{
				type: 'category',
				data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],
			axisLabel:{
				textStyle: { //图例文字的样式
					color: color_axis,
					fontSize: fontSize_axis_label
				},
			}
			}
		],
		yAxis: [
			{
				type: 'value',
				name: '%',
				axisLabel:{
					textStyle: { //图例文字的样式
						color: color_axis,
						fontSize: fontSize_axis_label
					},
				}
				// max: 365,
			}
		],
		series: [
			{
				name: '固定式压力容器',
				type: 'bar',
				// stack: '抽查情况',
				data: [120, 132, 101, 134, 90, 230, 210]
			},
			{
				name: '电梯',
				type: 'bar',
				// stack: '抽查情况',
				data: [220, 182, 191, 234, 290, 330, 310]
			},
			{
				name: '起重机',
				type: 'bar',
				// stack: '抽查情况',
				data: [120, 132, 101, 134, 90, 230, 210]
			},
			{
				name: '场(厂)内机动车辆',
				type: 'bar',
				// stack: '抽查情况',
				data: [220, 182, 191, 234, 290, 330, 310]
			}
		]
	};


	option_3_5_1['series'] = ori_data_3_5['series'];
	option_3_5_1['legend']['data'] = ori_data_3_5['legend']['data'];
	option_3_5_1['xAxis'][0]['data'] = ori_data_3_5['xAxis'][0]['data'];

	myChart_3_5.setOption(option_3_5_1, true);

</script>
<script>
    var ori_data_4_6 = {};

    function callback_4_4_6(res){
        ori_data_4_6 = res;
		console.log('4_4_6.json读取成功')
		console.log(ori_data_4_6);
    }
</script>
<script src="data/4_4_6.json?callback=callback_4_4_6"></script>

<script>

	var dom_4_6 = document.getElementById("container_4_6");
	var myChart_4_6 = echarts.init(dom_4_6, 'chalk');
	var app_4_6 = {};

	console.log(data_1["4-2投诉商品类别数量分布（件）"])
	var data_4_6 = data_1["4-2投诉商品类别数量分布（件）"];
	var class_4_6 = data_4_6[0];

	function view_4_6_1_change(){
		console.log("4_6_1 change")
		// Document.getElementById('view_2_1_1').innerHTML
		console.log(document.getElementById('view_4_6_1').value)
		document.getElementById('view_4_6_1').innerHTML = document.getElementById('view_4_6_1').value
	}

	var option_4_6_1 = {
		tooltip: {
			trigger: 'axis',
			axisPointer: {            // 坐标轴指示器，坐标轴触发有效
				type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
			},
			
		},
		toolbox: {
			show: true,
			itemSize: echart_toolbox_size, 
            orient: 'vertical',
			feature: {
				dataView: {
					show: true, 
					readOnly: false,
					optionToContent: function(opt) {
						// console.log(opt)
						var axisData = opt['xAxis'][0]['data'];
						var series = opt['series'];
						console.log("start show")
						// console.log(axisData)
						// console.log(series)
						var table = '<textarea id="view_4_6_1" onchange="view_4_6_1_change()" style="width: 100%; height: 100%; font-family: monospace; font-size: 14px; line-height: 1.6rem; color: rgb(0, 0, 0); border-color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">\n';
						// table += option_9_1_1['series'][0]['name'];
						// table += '\n';
						table += "年份"
						for(var i = 0; i < option_4_6_1['legend']['data'].length; ++i){
							table += (','+option_4_6_1['legend']['data'][i]);
						}
						table += '\n';

						for (var i = 0, l = axisData.length; i < l; i++) {
							table += axisData[i];
							for(var j = 0; j < series.length; ++j){
								// if(series[j].data[i] == undefined){
								// 	table += (',null'+series[j].data[i]);

								// }
								table += (','+series[j].data[i]);
							}
							table += '\n';
						}
						table += '</textarea>'
						// table += '</tbody></table></div>';
						// console.log(table)
						return table;
						// return option_2_1_1['xAxis']['data']
					},
					contentToOption:function(HTMLDomElement, opt){
						console.log("start save 4_6")

						var plain_tex = HTMLDomElement.firstChild.innerHTML;
						var arr_tex = plain_tex.split('\n')

						var legend_4_6 = arr_tex[0].split(',').slice(1);
						var valid_num = legend_4_6.length;

						var X_4_6 = [];
						var Y_4_6 = [];

						while(Y_4_6.length < valid_num){
							Y_4_6.push([])
						}

						for(var i = 1; i < arr_tex.length; ++i){
							cur_pair = arr_tex[i].split(',');
							// if(cur_pair.length != valid_num){
							// 	// console.alert('wrong data')
							// 	continue
							// }
							// if(cur_pair[0] == '' || cur_pair[0] == undefined){
							// 	continue
							// }
							
							if(cur_pair.length < valid_num+1 || cur_pair[0].length == 0){
								continue;
							}

							X_4_6.push(cur_pair[0]);

							for(var j = 1,k = 0; j < cur_pair.length && k < Y_4_6.length; ++j, ++k){
								Y_4_6[k].push(cur_pair[j]);
							}
							// Y_9_1.push(cur_pair[1]);
						}

						option_4_6_1['legend']['data'] = legend_4_6;
						option_4_6_1['xAxis'][0]['data'] = X_4_6;

						option_4_6_1['series'] = [];

						for(var i = 0; i < Y_4_6.length; ++i){
							option_4_6_1['series'].push({
								name: legend_4_6[i],
								type: "bar",
								// stack: "抽查情况",
								data: Y_4_6[i],
							})
						}
						
						myChart_4_6.setOption(option_4_6_1);

						var Link = document.createElement('a');
						Link.download = "4_4_6.json";
						Link.style.display = 'none';
						// 字符内容转变成blob地址
						var blob = new Blob(['callback_4_4_6('+JSON.stringify(option_4_6_1)+')']);
						Link.href = URL.createObjectURL(blob);
						// 触发点击 	
						document.body.appendChild(Link);
						Link.click();
						// 然后移除
						document.body.removeChild(Link);
						return opt
					},
				},
				magicType: {show: true, type: ['line','bar','tiled','stack']},
				// restore: {show: true},
				saveAsImage: {show: true},
				// myTool2: {
				// 	show: true,
				// 	title: '切换到饼图',
				// 	icon: 'image://img/shuju-data.png',
				// 	onclick: function (){
				// 		myChart_4_6.setOption(option_4_6_2, true);
				// 		curIsPie_4_6 = true;
				// 	}
				// }
			}
		},
		legend: {
			data: class_4_6,
			textStyle: { //图例文字的样式
				color: color_legend,
				fontSize: fontSize_all_legend
			},
		},
		grid: {
			left: '3%',
			right: '4%',
			bottom: '3%',
			containLabel: true
		},
		xAxis: [
			{
				type: 'category',
				data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],
				axisLabel:{
					textStyle: { //图例文字的样式
						color: color_axis,
						fontSize: fontSize_axis_label
					},
				}
			}
		],
		yAxis: [
			{
				type: 'value',
				axisLabel:{
					textStyle: { //图例文字的样式
						color: color_axis,
						fontSize: fontSize_axis_label
					},
				}
			}
		],
		series: [
			{
				name: '锅炉',
				type: 'bar',
				// stack: '抽查情况',
				data: [
					12028,
					11596,
					12355,
					12213,
					9377,
					8457,
					7937,
					7850,
					7608,
					6029
				]
			},
			{
				name: '固定式压力容器',
				type: 'bar',
				// stack: '抽查情况',
				data: [
					96831,
					107986,
					125706,
					123542,
					102186,
					106608,
					109989,
					105420,
					101213,
					103377
				]
			},
			{
				name: '移动式电容器',
				type: 'bar',
				// stack: '抽查情况',
				data: [
					687,
					684,
					771,
					814,
					820,
					831,
					840,
					852,
					860,
					0
				]
			},
			{
				name: '电梯',
				type: 'bar',
				// stack: '抽查情况',
				data: [
					107632,
					118447,
					133397,
					149147,
					157528,
					171802,
					184543,
					201925,
					222103,
					238664
				]
			},
			{
				name: '起重机械',
				type: 'bar',
				// stack: '抽查情况',
				data: [
					102437,
					111691,
					96244,
					101251,
					89661,
					93972,
					96611,
					88921,
					80216,
					75868
				]
			},
			{
				name: '场(厂)内机动车辆',
				type: 'bar',
				// stack: '抽查情况',
				data: [
					14491,
					17494,
					43707,
					52554,
					55302,
					59883,
					64701,
					67329,
					69870,
					73238
				]
			},
			{
				name: '大型游乐设施',
				type: 'bar',
				// stack: '抽查情况',
				data: [
					294,
					323,
					338,
					308,
					312,
					314,
					311,
					308,
					305,
					303
				]
			},
			{
				name: '客运索道',
				type: 'bar',
				// stack: '抽查情况',
				data: [
					2,
					2,
					1,
					1,
					1,
					1,
					1,
					1,
					1,
					1
				]
			}
		]
	};

	option_4_6_1['series'] = ori_data_4_6['series'];
	option_4_6_1['legend']['data'] = ori_data_4_6['legend']['data'];
	option_4_6_1['xAxis'][0]['data'] = ori_data_4_6['xAxis'][0]['data'];

	myChart_4_6.setOption(option_4_6_1, true);

</script>


<script type="text/javascript" src="js/left_top_but.js"></script>