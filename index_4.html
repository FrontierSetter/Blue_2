<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8" />
	    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
	    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
		<title>大屏数据可视化 - 模板</title>
		<link rel="stylesheet" href="css/app.css" />
		<link rel="stylesheet" href="css/mine.css" />

		<!-- JQuery -->
		<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		
		<!-- 弹出窗口 -->
		<link rel="stylesheet" href="css/hover_window_2.css" />
		<link rel="stylesheet" href="css/hover_window.css" />
		<script type="text/javascript" src="js/hover_window_2.js"></script>
		
		<!-- echarts -->
		<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
		<script type="text/javascript" src="js/color.js"></script>
		<script type="text/javascript" src="js/global_config.js"></script>
		<link rel="stylesheet" href="css/mine.css" />
		
		<!-- semantic UI -->
		<link href="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/icon.css" rel="stylesheet">
		<link href="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/button.css" rel="stylesheet">
		<link href="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/table.css" rel="stylesheet">

		<!-- bootstrap -->
		<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>

	</head>
	
	<body>
		<div class="header">
			<h1 class="header-title" style="font-size:40px">上海市质量状况可视化展图</h1>
		</div>
		<div class="wrapper">
			<div class="content">
				<div class="col col-l">
					<div class="xpanel-wrapper xpanel-wrapper-50">
						<div class="xpanel xpanel-l-t">
							<div class="title">2012-2017年质量监督执法情况</div>
							<div id="container_1_1" style="height: 90%"></div>
						</div>
						
					</div>
					<div class="xpanel-wrapper xpanel-wrapper-55">
						<div class="xpanel xpanel-l-b">
							<div class="title">2012-2017年食品安全执法检查次数</div>
							<div id="container_2_1" style="height: 90%"></div>
						</div>
					</div>
				</div>
				<div class="col col-c">
					<div class="xpanel-wrapper xpanel-wrapper-50">
						<div class="xpanel xpanel-c-t">
							<div class="title">2008-2017年上海市产品质量监督抽查合格率</div>
							<div id="container_1_2" style="height: 90%"></div>
						</div>
					</div>
					<div class="xpanel-wrapper xpanel-wrapper-55">
						<div class="xpanel xpanel-c-b">
							<div class="title">2007-2017年上海市国家监督抽查及市监督抽查合格率</div>
							<div id="container_2_2" style="height: 90%"></div>
						</div>
					</div>
				</div>
				<div class="col col-r">
					<div class="xpanel-wrapper xpanel-wrapper-50">
						<div class="xpanel xpanel-r-t">
							<div class="title">2009-2017年上海市各类产品质量监督抽查合格率 <i  onclick="popBoxSuffix('_1_3')"></i></div>
							<div id="container_1_3" style="height: 90%"></div>
						</div>
					</div>
					<div class="xpanel-wrapper xpanel-wrapper-55">
						<div class="xpanel xpanel-r-t">
							<div class="title">2009-2015年特种设备安全监督执法情况</div>
							<div id="container_2_3" style="height: 90%"></div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div id="popLayer"></div>
		<div id="popBox_1_1" class="popBox">
			<!-- <div class="close">
				<a href="javascript:void(0)" onclick="closeBoxSuffix('_1_1')">关闭</a>
			</div> -->
			<div class="content" style="overflow: scroll; max-height: 80%;">
				<table id="table_1_1" class="ui definition table">
					<thead>
						<tr><th></th>
						<th>Arguments</th>
					</tr></thead>
					<tbody>
						<tr>
						<td>reset rating</td>
						<td>
							<div class="ui input">
								<input type="text" placeholder="搜索...">
						  	</div>
						</td>
						</tr>
						<tr>
						<td>set rating</td>
						<td>
							<div class="ui input">
								<input type="text" placeholder="搜索...">
						  	</div>
						</td>
						</tr>
					</tbody>
				</table>
			</div>

			<div class="dlg_bottom">
				<button class="ui primary button" onclick="alert('submit success!')">
					保存
				</button>
				<button class="ui button" onclick="closeBoxSuffix('_1_1')">
					关闭
				</button>
				<button class="ui button" onclick="addTableRow('_1_1')">
					添加一行
				</button>
			</div>

		</div>
		<script>
			// initHoverWindowBySuffix('_1_1', submitHandler, function(){hideDialogID('_1_1')});
		</script>
	</body>
</html>

<!--全局页面字体配置 -->
<script>
    // var fontSize_all_title = 18
	// var fontSize_axis_label = 14
	// var echart_toolbox_size = 16

</script>

<!--解决本地json跨域问题-->
<script>
    var alldata = {};

    function demo(res){
        alldata = res;
    }
</script>
<script src="data/data2.json?callback=demo"></script>

<script>
    var ori_data_1_1 = {};

    function callback_3_4_1(res){
        ori_data_1_1 = res;
		console.log('航天制造业主营业务收入与利润.json读取成功')
		console.log(ori_data_1_1);
    }
</script>
<script src="data/3_4_1.json?callback=callback_3_4_1"></script>

<script>
    var ori_data_1_2 = {};

    function callback_3_4_2(res){
        ori_data_1_2 = res;
		console.log('航天制造业主营业务收入与利润.json读取成功')
		console.log(ori_data_1_2);
    }
</script>
<script src="data/3_4_2.json?callback=callback_3_4_2"></script>

<script>
    var ori_data_1_3 = {};

    function callback_3_4_3(res){
        ori_data_1_3 = res;
		console.log('航天制造业主营业务收入与利润.json读取成功')
		console.log(ori_data_1_3);
    }
</script>
<script src="data/3_4_3.json?callback=callback_3_4_3"></script>

<script>
    var ori_data_1_4 = {};

    function callback_3_4_4(res){
        ori_data_1_4 = res;
		console.log('航天制造业主营业务收入与利润.json读取成功')
		console.log(ori_data_1_4);
    }
</script>
<script src="data/3_4_4.json?callback=callback_3_4_4"></script>

<script>
    var ori_data_1_5 = {};

    function callback_3_4_5(res){
        ori_data_1_5 = res;
		console.log('航天制造业主营业务收入与利润.json读取成功')
		console.log(ori_data_1_5);
    }
</script>
<script src="data/3_4_5.json?callback=callback_3_4_5"></script>
<script>
    var ori_data_1_6 = {};

    function callback_3_4_6(res){
        ori_data_1_6 = res;
		console.log('航天制造业主营业务收入与利润.json读取成功')
		console.log(ori_data_1_6);
    }
</script>
<script src="data/3_4_6.json?callback=callback_3_4_6"></script>

<script>

	var dom_1_1 = document.getElementById("container_1_1");
	var myChart_1_1 = echarts.init(dom_1_1, 'chalk');
	var app_1_1 = {};

	function view_1_1_change(){
		console.log("3_1 change")
		//console.log(document.getElementById('view_1_1').value)
		document.getElementById('view_1_1').innerHTML = document.getElementById('view_1_1').value
	}

	var option_1_1_1 = {
		tooltip: {
			trigger: 'axis',
			axisPointer: {            // 坐标轴指示器，坐标轴触发有效
				type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
			}
		},
		toolbox: {
			show: true,
			itemSize: echart_toolbox_size, 
			orient: 'vertical',
            left: 'right',
            top: 'center',
			feature: {
				dataView: {
                    show: true, 
                    readOnly: false,
                    optionToContent: function(opt) {
						console.log(opt)
						var axisData = opt['xAxis'][0]['data']
						var series = opt['series']
						console.log("start show")
						console.log(axisData)
						console.log(series)
						var table = '<textarea id="view_1_1" onchange="view_1_1_change()" style="width: 100%; height: 100%; font-family: monospace; font-size: 14px; line-height: 1.6rem; color: rgb(0, 0, 0); border-color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">年份,立案查办案件（起）,案件信息公开（起）,涉案金额（万元）,罚没款（万元）\n'
						for (var i = 0, l = axisData.length; i < l; i++) {
							table += axisData[i] + ',' + series[0].data[i] + ',' + series[1].data[i]  +',' + series[2].data[i] + ',' + series[3].data[i]+ '\n'
						}
						table += '</textarea>'
						return table;
					},
					contentToOption: function(HTMLDomElement, opt) {
						console.log('start save')
						console.log(opt)
						console.log(HTMLDomElement.firstChild)
						var plain_tex = HTMLDomElement.firstChild.innerHTML
						var arr_tex = plain_tex.split('\n')
						console.log(arr_tex)
						xAxis_1_1 = []
						yAxis_1_1a = []
                        yAxis_1_1b = []
						yAxis_1_1c = []
                        yAxis_1_1d = []
						for(var i = 1; i < arr_tex.length; i++) {
							cur_pair = arr_tex[i].split(',')
							if(cur_pair.length != 5) {
								//console.alert('wrong data')
								continue
							}
							if(cur_pair[0] == ' ' || cur_pair[0] == undefined) {
								continue
							}
							xAxis_1_1.push(cur_pair[0])
							yAxis_1_1a.push(cur_pair[1])
                            yAxis_1_1b.push(cur_pair[2])
							yAxis_1_1c.push(cur_pair[3])
                            yAxis_1_1d.push(cur_pair[4])
						}
						console.log(xAxis_1_1)
						console.log(yAxis_1_1a)
                        console.log(yAxis_1_1b)
						console.log(yAxis_1_1c)
                        console.log(yAxis_1_1d)
						option_1_1_1['series'][0]['data'] = yAxis_1_1a;
                        option_1_1_1['series'][1]['data'] = yAxis_1_1b;
						option_1_1_1['series'][2]['data'] = yAxis_1_1c;
                        option_1_1_1['series'][3]['data'] = yAxis_1_1d;
						option_1_1_1['xAxis']['data'] = xAxis_1_1;
						myChart_1_1.setOption(option_1_1_1);

						var Link = document.createElement('a')
						Link.download = "3_4_1.json"
						Link.style.display = 'none'
						//字符内容转变成blob地址
						var blob = new Blob(['callback_3_4_1('+JSON.stringify(option_1_1_1)+')'])
						Link.href = URL.createObjectURL(blob)
						//触发点击
						document.body.appendChild(Link)
						Link.click()
						//然后移除
						document.body.removeChild(Link)
						return opt
                    },
                },
				// magicType: {show: true, type: ['line', 'bar']},
				// restore: {show: true},
				magicType: {show: true, type: ['line', 'bar']},
                restore: {show: true},
                saveAsImage: {show: true}
			}
		},
		legend: {
			data: ['中国', '韩国', '日本', '其他'],
			textStyle: { //图例文字的样式
				color: color_legend,
				fontSize: fontSize_all_legend
			},
		},
		xAxis: {
			type: 'category',
			data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
			axisLabel:{
				textStyle: { //图例文字的样式
					color: color_axis,
					fontSize: fontSize_axis_label
				},
			}
		},
		yAxis: [
            {
                type: 'value',
				name: '起',
                axisLabel: {
                    fontSize: fontSize_axis_label
                }
            },
			{
                type: 'value',
                name: '万元',
                axisLabel: {
                    fontSize: fontSize_axis_label
                }
            }
        ],
		series: [
            {
                name: '立案案件数',
                type: 'bar',
                data: [1,2,3],
				yAxisIndex: 0,
            },
            {
                name: '罚没款/万',
                type: 'bar',
                data: [],
				yAxisIndex: 1,
            },
			{
                name: '立案案件数',
                type: 'bar',
                data: [1,2,3],
				yAxisIndex: 0,
            },
            {
                name: '罚没款/万',
                type: 'bar',
                data: [],
				yAxisIndex: 1,
            }
        ]
	};

	
	var X_3_1 = ori_data_1_1['xAxis']['data'];
	var Y_3_1 = ori_data_1_1['series'];

	option_1_1_1['legend']['data'] = ori_data_1_1['legend']['data'];
	option_1_1_1['xAxis']['data'] = X_3_1;

	for(var i = 0; i < Y_3_1.length; ++i){
		option_1_1_1['series'][i]['data'] = Y_3_1[i]['data'];
		option_1_1_1['series'][i]['name'] = Y_3_1[i]['name'];
	}

	myChart_1_1.setOption(option_1_1_1);



</script>

<!--* 图 2_2 -->
<script>

	var dom_1_2 = document.getElementById("container_1_2");
	var myChart_1_2 = echarts.init(dom_1_2, 'chalk');
	var app_1_2 = {};

	function view_1_2_change(){
		console.log("3_2 change")
		//console.log(document.getElementById('view_1_2').value)
		document.getElementById('view_1_2').innerHTML = document.getElementById('view_1_2').value
	}

	var option_1_2_1 = {
		tooltip: {
			trigger: 'axis',
			axisPointer: {            // 坐标轴指示器，坐标轴触发有效
				type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
			}
		},
		toolbox: {
			show: true,
			itemSize: echart_toolbox_size, 
			orient: 'vertical',
            left: 'right',
            top: 'center',
			feature: {
				dataView: {
                    show: true, 
                    readOnly: false,
                    optionToContent: function(opt) {
						console.log(opt)
						var axisData = opt['xAxis'][0]['data']
						var series = opt['series']
						console.log("start show")
						console.log(axisData)
						console.log(series)
						var table = '<textarea id="view_1_2" onchange="view_1_2_change()" style="width: 100%; height: 100%; font-family: monospace; font-size: 14px; line-height: 1.6rem; color: rgb(0, 0, 0); border-color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">年份,上海市产品,外省市产品\n'
						for (var i = 0, l = axisData.length; i < l; i++) {
							table += axisData[i] + ',' + series[0].data[i] + ',' + series[1].data[i] + '\n'
						}
						table += '</textarea>'
						return table;
					},
					contentToOption: function(HTMLDomElement, opt) {
						console.log('start save')
						console.log(opt)
						console.log(HTMLDomElement.firstChild)
						var plain_tex = HTMLDomElement.firstChild.innerHTML
						var arr_tex = plain_tex.split('\n')
						console.log(arr_tex)
						xAxis_1_2 = []
						yAxis_1_2a = []
                        yAxis_1_2b = []
						for(var i = 1; i < arr_tex.length; i++) {
							cur_pair = arr_tex[i].split(',')
							if(cur_pair.length != 3) {
								//console.alert('wrong data')
								continue
							}
							if(cur_pair[0] == ' ' || cur_pair[0] == undefined) {
								continue
							}
							xAxis_1_2.push(cur_pair[0])
							yAxis_1_2a.push(cur_pair[1])
                            yAxis_1_2b.push(cur_pair[2])
						}
						console.log(xAxis_1_2)
						console.log(yAxis_1_2a)
                        console.log(yAxis_1_2b)
						option_1_2_1['series'][0]['data'] = yAxis_1_2a;
                        option_1_2_1['series'][1]['data'] = yAxis_1_2b;
						option_1_2_1['xAxis']['data'] = xAxis_1_2;
						myChart_1_2.setOption(option_1_2_1);

						var Link = document.createElement('a')
						Link.download = "3_4_2.json"
						Link.style.display = 'none'
						//字符内容转变成blob地址
						var blob = new Blob(['callback_3_4_2('+JSON.stringify(option_1_2_1)+')'])
						Link.href = URL.createObjectURL(blob)
						//触发点击
						document.body.appendChild(Link)
						Link.click()
						//然后移除
						document.body.removeChild(Link)
						return opt
                    },
                },
				magicType: {show: true, type: ['line', 'bar']},
                restore: {show: true},
                saveAsImage: {show: true}
			}
		},
		legend: {
			data: ['中国', '韩国', '日本', '其他'],
			textStyle: { //图例文字的样式
				color: color_legend,
				fontSize: fontSize_all_legend
			},
		},
		xAxis: {
			type: 'category',
			data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
			axisLabel:{
				textStyle: { //图例文字的样式
					color: color_axis,
					fontSize: fontSize_axis_label
				},
			}
		},
		yAxis: [
            {
                type: 'value',
                axisLabel: {
                    fontSize: fontSize_axis_label
                }
            }
        ],
		series: [
            {
                name: '汽车市场占比',
                type: 'line',
                data: [],
            },
            {
                name: '汽车市场占比',
                type: 'line',
                data: [],
            }
        ]
	};

	
	var X_3_2 = ori_data_1_2['xAxis']['data'];
	var Y_3_2 = ori_data_1_2['series'];

	option_1_2_1['legend']['data'] = ori_data_1_2['legend']['data'];
	option_1_2_1['xAxis']['data'] = X_3_2;

	for(var i = 0; i < Y_3_2.length; ++i){
		option_1_2_1['series'][i]['data'] = Y_3_2[i]['data'];
		option_1_2_1['series'][i]['name'] = Y_3_2[i]['name'];
	}

	myChart_1_2.setOption(option_1_2_1);



</script>

<!--* 图 1_4 -->
<script>

	var dom_1_4 = document.getElementById("container_2_1");
	var myChart_1_4 = echarts.init(dom_1_4, 'chalk');
	var app_1_4 = {};

	function view_1_4_change(){
		console.log("3_4 change")
		//console.log(document.getElementById('view_1_4').value)
		document.getElementById('view_1_4').innerHTML = document.getElementById('view_1_4').value
	}

	// 事故数柱状图
	var option_1_4_1 = {
		tooltip: {
			trigger: 'axis',
			axisPointer: {            // 坐标轴指示器，坐标轴触发有效
				type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
			},
			
		},
		toolbox: {
			show: true,
			itemSize: echart_toolbox_size, 
			orient: 'vertical',
            left: 'right',
            top: 'center',
			feature: {
				dataView: {
                    show: true, 
                    readOnly: false,
                    optionToContent: function(opt) {
						console.log(opt)
						var axisData = opt['xAxis'][0]['data']
						var series = opt['series']
						console.log("start show")
						console.log(axisData)
						console.log(series)
						var table = '<textarea id="view_1_4" onchange="view_1_4_change()" style="width: 100%; height: 100%; font-family: monospace; font-size: 14px; line-height: 1.6rem; color: rgb(0, 0, 0); border-color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">年份,检查次数\n'
						for (var i = 0, l = axisData.length; i < l; i++) {
							table += axisData[i] + ',' + series[0].data[i] + '\n'
						}
						table += '</textarea>'
						return table;
					},
					contentToOption: function(HTMLDomElement, opt) {
						console.log('start save')
						console.log(opt)
						console.log(HTMLDomElement.firstChild)
						var plain_tex = HTMLDomElement.firstChild.innerHTML
						var arr_tex = plain_tex.split('\n')
						console.log(arr_tex)
						xAxis_1_2 = []
						yAxis_1_2a = []
                       
						for(var i = 1; i < arr_tex.length; i++) {
							cur_pair = arr_tex[i].split(',')
							if(cur_pair.length != 2) {
								//console.alert('wrong data')
								continue
							}
							if(cur_pair[0] == ' ' || cur_pair[0] == undefined) {
								continue
							}
							xAxis_1_2.push(cur_pair[0])
							yAxis_1_2a.push(cur_pair[1])

						}
						console.log(xAxis_1_2)
						console.log(yAxis_1_2a)
           
						option_1_4_1['series'][0]['data'] = yAxis_1_2a;
     
						option_1_4_1['xAxis']['data'] = xAxis_1_2;
						myChart_1_4.setOption(option_1_4_1);

						var Link = document.createElement('a')
						Link.download = "3_4_4.json"
						Link.style.display = 'none'
						//字符内容转变成blob地址
						var blob = new Blob(['callback_3_4_4('+JSON.stringify(option_1_4_1)+')'])
						Link.href = URL.createObjectURL(blob)
						//触发点击
						document.body.appendChild(Link)
						Link.click()
						//然后移除
						document.body.removeChild(Link)
						return opt
                    },
                },
				magicType: {show: true, type: ['line','bar']},
				restore: {show: true},
				saveAsImage: {show: true},
				// myTool2: {
				// 	show: true,
				// 	title: '切换到饼图',
				// 	icon: 'image://img/shuju-data.png',
				// 	onclick: function (){
				// 		myChart_1_2.setOption(option_1_2_2, true);
				// 		curIsPie_3_2 = true;
				// 	}
				// }
			}
		},
		legend: {
			data: ["造船完工量","新接订单量"],
			textStyle: { //图例文字的样式
				color: color_legend,
				fontSize: fontSize_all_legend
			},
		},
		grid: {
			left: '3%',
			right: '4%',
			bottom: '3%',
			containLabel: true
		},
		xAxis:{
				type: 'category',
				data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],
				axisLabel:{
					textStyle: { //图例文字的样式
						color: color_axis,
						fontSize: fontSize_axis_label
					},
				}
			},
			yAxis: [
            {
                type: 'value',
                // name: '亿美元',
                axisLabel: {
                    fontSize: fontSize_axis_label
                }
            }
        ],
		series: [
			{
				name: '锅炉',
				type: 'bar',

				// stack: '抽查情况',
				data: [
				]
			}
		]
	};

	var X_3_4 = ori_data_1_4['xAxis']['data'];
	var Y_3_4 = ori_data_1_4['series'];

	// option_1_2_1['legend']
	option_1_4_1['legend']['data'] = ori_data_1_4['legend']['data'];
	option_1_4_1['xAxis']['data'] = X_3_4;

	for(var i = 0; i < Y_3_4.length; ++i){
		option_1_4_1['series'][i]['data'] = Y_3_4[i]['data'];
		option_1_4_1['series'][i]['name'] = Y_3_4[i]['name'];
	}

	
	myChart_1_4.setOption(option_1_4_1);


</script>

<!--* 图 2_5 -->
<script>

	var dom_1_5 = document.getElementById("container_2_2");
	var myChart_1_5 = echarts.init(dom_1_5, 'chalk');
	var app_1_5 = {};

	function view_1_5_change(){
		console.log("3_5 change")
		//console.log(document.getElementById('view_1_5').value)
		document.getElementById('view_1_5').innerHTML = document.getElementById('view_1_5').value
	}
	var option_1_5_1 = {
		tooltip: {
			trigger: 'axis',
			axisPointer: {            // 坐标轴指示器，坐标轴触发有效
				type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
			}
		},
		toolbox: {
			show: true,
			itemSize: echart_toolbox_size, 
			orient: 'vertical',
            left: 'right',
            top: 'center',
			feature: {
				dataView: {
                    show: true, 
                    readOnly: false,
                    optionToContent: function(opt) {
						console.log(opt)
						var axisData = opt['xAxis'][0]['data']
						var series = opt['series']
						console.log("start show")
						console.log(axisData)
						console.log(series)
						var table = '<textarea id="view_1_5" onchange="view_1_5_change()" style="width: 100%; height: 100%; font-family: monospace; font-size: 14px; line-height: 1.6rem; color: rgb(0, 0, 0); border-color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">年份,国抽,市抽\n'
						for (var i = 0, l = axisData.length; i < l; i++) {

							table += axisData[i] + ',' + series[0].data[i] + ',' + series[1].data[i]  + '\n'
						}
						table += '</textarea>'
						return table;
					},
					contentToOption: function(HTMLDomElement, opt) {
						console.log('start save')
						console.log(opt)
						console.log(HTMLDomElement.firstChild)
						var plain_tex = HTMLDomElement.firstChild.innerHTML
						var arr_tex = plain_tex.split('\n')
						console.log(arr_tex)
						xAxis_1_2 = []
						yAxis_1_2a = []
                        yAxis_1_2b = []

						for(var i = 1; i < arr_tex.length; i++) {
							cur_pair = arr_tex[i].split(',')
							if(cur_pair.length != 3) {
								//console.alert('wrong data')
								continue
							}
							if(cur_pair[0] == ' ' || cur_pair[0] == undefined) {
								continue
							}
							xAxis_1_2.push(cur_pair[0])
							yAxis_1_2a.push(cur_pair[1])
                            yAxis_1_2b.push(cur_pair[2])
			
						}
						console.log(xAxis_1_2)
						console.log(yAxis_1_2a)
                        console.log(yAxis_1_2b)
					
						option_1_5_1['series'][0]['data'] = yAxis_1_2a;
                        option_1_5_1['series'][1]['data'] = yAxis_1_2b;
			
						option_1_5_1['xAxis']['data'] = xAxis_1_2;
						myChart_1_5.setOption(option_1_5_1);

						var Link = document.createElement('a')
						Link.download = "3_4_5.json"
						Link.style.display = 'none'
						//字符内容转变成blob地址
						var blob = new Blob(['callback_3_4_5('+JSON.stringify(option_1_5_1)+')'])
						Link.href = URL.createObjectURL(blob)
						//触发点击
						document.body.appendChild(Link)
						Link.click()
						//然后移除
						document.body.removeChild(Link)
						return opt
                    },
                },
				magicType: {show: true, type: ['line', 'bar']},
				restore: {show: true},
				saveAsImage: {show: true}
			}
		},
		legend: {
			data: ['中国', '韩国', '日本', '其他'],
			textStyle: { //图例文字的样式
				color: color_legend,
				fontSize: fontSize_all_legend
			},
		},
		xAxis: {
			type: 'category',
			data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
			axisLabel:{
				textStyle: { //图例文字的样式
					color: color_axis,
					fontSize: fontSize_axis_label
				},
			}
		},
		yAxis: [
            {
                type: 'value',

                axisLabel: {
                    fontSize: fontSize_axis_label
                }
            }
        ],
		series: [
            {
                name: '销量',
                type: 'bar',
                data: [1,2,3],

            },
            {
                name: '汽车市场占比',
                type: 'bar',
                data: [],

            }
        ]
	};

	
	var X_3_5 = ori_data_1_5['xAxis']['data'];
	var Y_3_5 = ori_data_1_5['series'];

	option_1_5_1['legend']['data'] = ori_data_1_5['legend']['data'];
	option_1_5_1['xAxis']['data'] = X_3_5;

	for(var i = 0; i < Y_3_5.length; ++i){
		option_1_5_1['series'][i]['data'] = Y_3_5[i]['data'];
		option_1_5_1['series'][i]['name'] = Y_3_5[i]['name'];
	}

	myChart_1_5.setOption(option_1_5_1);



</script>



<script>

	
	var dom_4_3 = document.getElementById("container_1_3");
	var myChart_4_3 = echarts.init(dom_4_3, 'chalk');

	var xAxis_4_3 = ori_data_1_3['xAxis']['data'] //年份
	var yAxis_4_3a = ori_data_1_3['series'][0]['data'] //A级
	var yAxis_4_3b = ori_data_1_3['series'][1]['data'] //B级
	var yAxis_4_3c = ori_data_1_3['series'][2]['data'] //C级
    
	function view_4_3_change(){
		console.log("5_6 change")
		//console.log(document.getElementById('view_4_3').value)
		document.getElementById('view_4_3').innerHTML = document.getElementById('view_4_3').value
	}
	
    //option_4_3_1-柱状图
    var option_4_3_1 = {
		textStyle: {
            fontSize: fontSize_all_title,
        },
		tooltip: {
			trigger: 'axis',
			axisPointer: {        
				type: 'shadow'
			}
		},
		toolbox: {
			show: true,
			itemSize: echart_toolbox_size,
            orient: 'vertical',
            left: 'right',
            top: 'center',
			feature: {
				dataView: {
					show: true, 
					readOnly: false,
					optionToContent: function(opt) {
						console.log(opt)
						var axisData = opt['xAxis'][0]['data']
						var series = opt['series']
						console.log("start show")
						console.log(axisData)
						console.log(series)
						var table = '<textarea id="view_4_3" onchange="view_4_3_change()" style="width: 100%; height: 100%; font-family: monospace; font-size: 14px; line-height: 1.6rem; color: rgb(0, 0, 0); border-color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">年份,农资产品,工业生产资料,日用消费品\n'
						for (var i = 0, l = axisData.length; i < l; i++) {
							table += axisData[i] + ',' + series[0].data[i] + ',' + series[1].data[i] + ',' + series[2].data[i] + '\n'
						}
						table += '</textarea>'
						return table;
					},
					contentToOption: function(HTMLDomElement, opt) {
						console.log('start save')
						console.log(opt)
						console.log(HTMLDomElement.firstChild)
						var plain_tex = HTMLDomElement.firstChild.innerHTML
						var arr_tex = plain_tex.split('\n')
						console.log(arr_tex)
						xAxis_4_3 = []
						yAxis_4_3a = []
						yAxis_4_3b = []
						yAxis_4_3c = []
						for(var i = 1; i < arr_tex.length; i++) {
							cur_pair = arr_tex[i].split(',')
							if(cur_pair.length != 4) {
								//console.alert('wrong data')
								continue
							}
							if(cur_pair[0] == ' ' || cur_pair[0] == undefined) {
								continue
							}
							xAxis_4_3.push(cur_pair[0])
							yAxis_4_3a.push(cur_pair[1])
							yAxis_4_3b.push(cur_pair[2])
							yAxis_4_3c.push(cur_pair[3])
						}
						console.log(xAxis_4_3)
						console.log(yAxis_4_3a)
						console.log(yAxis_4_3b)
						console.log(yAxis_4_3c)
						option_4_3_1['series'][0]['data'] = yAxis_4_3a;
						option_4_3_1['series'][1]['data'] = yAxis_4_3b;
						option_4_3_1['series'][2]['data'] = yAxis_4_3c;
						option_4_3_1['xAxis']['data'] = xAxis_4_3;
						myChart_4_3.setOption(option_4_3_1);

						var Link = document.createElement('a')
						Link.download = "3_4_3.json"
						Link.style.display = 'none'
						//字符内容转变成blob地址
						var blob = new Blob(['callback_3_4_3('+JSON.stringify(option_4_3_1)+')'])
						Link.href = URL.createObjectURL(blob)
						//触发点击
						document.body.appendChild(Link)
						Link.click()
						//然后移除
						document.body.removeChild(Link)
						return opt
					}
				},
				magicType: {show: true, type: ['bar', 'line']},
				restore: {show: true},
				saveAsImage: {show: true}
			}
		},
		legend: {
			data: ['农资产品', '工业生产资料', '日用消费品'],
			textStyle: {
				color: color_legend,
				fontSize: fontSize_all_legend,
			}
		},
		xAxis: {
			type: 'category',
			name: '年份',
			boundaryGap: true,
			axisLine: {
                lineStyle: {
                    color: color_axis
                }
			},
			axisLabel: {
                fontSize: fontSize_axis_label
            },
		    data: xAxis_4_3,
		},
		yAxis: {
			type: 'value',
			axisLine: {
                lineStyle: {
                    color: color_axis
                }
			},
			axisLabel: {
				formatter: '{value}',
                fontSize: fontSize_axis_label
            }
		},
		series: [
			{
				name: '农资产品',
				type: 'bar',
				stack: '合计',
				areaStyle: {},
				data: yAxis_4_3a
			},
			{
				name: '工业生产资料',
				type: 'bar',
				stack: '合计',
				areaStyle: {},
				data: yAxis_4_3b
			},
			{
				name: '日用消费品',
				type: 'bar',
				stack: '合计',
				areaStyle: {},
				// label: {
                //     normal: {
                //         show: true,
                //         position: 'top'
                //     }
			    // },
				data: yAxis_4_3c
			},
		]
	};
	//option_4_3_2-折线图
    var option_4_3_2 = {
		textStyle: {
            fontSize: fontSize_all_title,
        },
		tooltip: {
			trigger: 'axis',
			axisPointer: {        
				type: 'shadow'
			}
		},
		toolbox: {
			show: true,
			itemSize: echart_toolbox_size,
            orient: 'vertical',
            left: 'right',
            top: 'center',
			feature: {
				dataView: {
					show: true, 
					readOnly: false,
					optionToContent: function(opt) {
						console.log(opt)
						var axisData = opt['xAxis'][0]['data']
						var series = opt['series']
						console.log("start show")
						console.log(axisData)
						console.log(series)
						var table = '<textarea id="view_4_3" onchange="view_4_3_change()" style="width: 100%; height: 100%; font-family: monospace; font-size: 14px; line-height: 1.6rem; color: rgb(0, 0, 0); border-color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">年份,农资产品,工业生产资料,日用消费品\n'
						for (var i = 0, l = axisData.length; i < l; i++) {
							table += axisData[i] + ',' + series[0].data[i] + ',' + series[1].data[i] + ',' + series[2].data[i] + '\n'
						}
						table += '</textarea>'
						return table;
					},
					contentToOption: function(HTMLDomElement, opt) {
						console.log('start save')
						console.log(opt)
						console.log(HTMLDomElement.firstChild)
						var plain_tex = HTMLDomElement.firstChild.innerHTML
						var arr_tex = plain_tex.split('\n')
						console.log(arr_tex)
						xAxis_4_3 = []
						yAxis_4_3a = []
						yAxis_4_3b = []
						yAxis_4_3c = []
						for(var i = 1; i < arr_tex.length; i++) {
							cur_pair = arr_tex[i].split(',')
							if(cur_pair.length != 4) {
								//console.alert('wrong data')
								continue
							}
							if(cur_pair[0] == ' ' || cur_pair[0] == undefined) {
								continue
							}
							xAxis_4_3.push(cur_pair[0])
							yAxis_4_3a.push(cur_pair[1])
							yAxis_4_3b.push(cur_pair[2])
							yAxis_4_3c.push(cur_pair[3])
						}
						console.log(xAxis_4_3)
						console.log(yAxis_4_3a)
						console.log(yAxis_4_3b)
						console.log(yAxis_4_3c)
						option_4_3_2['series'][0]['data'] = yAxis_4_3a;
						option_4_3_2['series'][1]['data'] = yAxis_4_3b;
						option_4_3_2['series'][2]['data'] = yAxis_4_3c;
						option_4_3_2['xAxis']['data'] = xAxis_4_3;
						myChart_4_3.setOption(option_4_3_2);

						var Link = document.createElement('a')
						Link.download = "3_4_3.json"
						Link.style.display = 'none'
						//字符内容转变成blob地址
						var blob = new Blob(['callback_3_4_3('+JSON.stringify(option_4_3_2)+')'])
						Link.href = URL.createObjectURL(blob)
						//触发点击
						document.body.appendChild(Link)
						Link.click()
						//然后移除
						document.body.removeChild(Link)
						return opt
					}
				},
				magicType: {show: true, type: ['bar', 'line']},
				restore: {show: true},
				saveAsImage: {show: true}
			}
		},
		legend: {
			data: ['农资产品', '工业生产资料', '日用消费品'],
			textStyle: {
				color: color_legend,
				fontSize: fontSize_all_legend,
			}
		},
		xAxis: {
			type: 'category',
			name: '年份',
			boundaryGap: false,
			axisLine: {
                lineStyle: {
                    color: color_axis
                }
			},
			axisLabel: {
                fontSize: fontSize_axis_label
            },
		    data: xAxis_4_3,
		},
		yAxis: {
			type: 'value',
			axisLine: {
                lineStyle: {
                    color: color_axis
                }
			},
			axisLabel: {
				formatter: '{value} ',
                fontSize: fontSize_axis_label
            }
		},
		series: [
			{
				name: '农资产品',
				type: 'line',
				stack: '合计',
				areaStyle: {},
				data: yAxis_4_3a
			},
			{
				name: '工业生产资料',
				type: 'line',
				stack: '合计',
				areaStyle: {},
				data: yAxis_4_3b
			},
			{
				name: '日用消费品',
				type: 'line',
				stack: '合计',
				areaStyle: {},
				// label: {
                //     normal: {
                //         show: true,
                //         position: 'top'
                //     }
			    // },
				data: yAxis_4_3c
			},
		]
	};
    //option_4_3-饼状图
	var option_4_3 = {
		textStyle: {
			fontSize: fontSize_all_title,
		},
		title: [
			{
				subtext: '2011',
				left: '20%',
				top: '30%',
				textAlign: 'center',
				subtextStyle:{
                    color:"#5793f3",
                    fontSize:20,
                    align:"center"
                }
			},
			{
				subtext: '2012',
				left: '40%',
				top: '30%',
				textAlign: 'center',
				subtextStyle:{
                    color:"#5793f3",
                    fontSize:20,
                    align:"center"
                }
			},
			{
				subtext: '2013',
				left: '60%',
				top: '30%',
				textAlign: 'center',
				subtextStyle:{
                    color:"#5793f3",
                    fontSize:20,
                    align:"center"
                }
			},
			{
				subtext: '2014',
				left: '80%',
				top: '30%',
				textAlign: 'center',
				subtextStyle:{
                    color:"#5793f3",
                    fontSize:20,
                    align:"center"
                }
			},
			{
				subtext: '2015',
				left: '30%',
				top: '70%',
				textAlign: 'center',
				subtextStyle:{
                    color:"#5793f3",
                    fontSize:20,
                    align:"center"
                }
			},
			{
				subtext: '2016',
				left: '50%',
				top: '70%',
				textAlign: 'center',
				subtextStyle:{
                    color:"#5793f3",
                    fontSize:20,
                    align:"center"
                }
			},
			{
				subtext: '2017',
				left: '70%',
				top: '70%',
				textAlign: 'center',
				subtextStyle:{
                    color:"#5793f3",
                    fontSize:20,
                    align:"center"
                }
			}
		],
        legend: {
			data: ['A级', 'B级', 'C级'],
			textStyle: {
				color: color_legend,
				fontSize: fontSize_all_legend,
			}
		},
		tooltip: {
            trigger: 'item',
			formatter: '{a} <br/>{b} : {c} ({d}%)'
        },
		toolbox: {
			show: true,
			itemSize: echart_toolbox_size,
            orient: 'vertical',
            left: 'right',
            top: 'center',
            feature: {
				dataView: {show: true, readOnly: false},
				magicType: {show: true, type: ['bar', 'line']},
                restore: {show: true},
                saveAsImage: {show: true}
            }
        },
        series: [
			{
                type: 'pie',
				name: '2011',
                radius: 70,
                center: ['20%', '30%'],
				label: {
					// show: false,
                    formatter: '{d}%',
					color: color_legend,
					fontSize: 20,
				},/*
				itemStyle: {
                    normal: {
                        color: function(params) {
                            var colorList = [
                                colors[2], colors[3], colors[4]
                            ];
							return colorList[params.dataIndex]
						}
                    }
                },*/
				data: [
					{value: yAxis_4_3a[0], name: 'A级'},
					{value: yAxis_4_3b[0], name: 'B级'},
					{value: yAxis_4_3c[0], name: 'C级'},
				]
            }, 
			{
                type: 'pie',
				name: '2012',
                radius: 70,
                center: ['40%', '30%'],
				label: {
					// show: false,
                    formatter: '{d}%',
					color: color_legend,
					fontSize: 20,
				},
				data: [
				    {value: yAxis_4_3a[1], name: 'A级'},
					{value: yAxis_4_3b[1], name: 'B级'},
					{value: yAxis_4_3c[1], name: 'C级'},
				]
            }, 
			{
                type: 'pie',
				name: '2013',
                radius: 70,
                center: ['60%', '30%'],
				label: {
					// show: false,
                    formatter: '{d}%',
					color: color_legend,
					fontSize: 20,
				},
				data: [
				    {value: yAxis_4_3a[2], name: 'A级'},
					{value: yAxis_4_3b[2], name: 'B级'},
					{value: yAxis_4_3c[2], name: 'C级'},
				]
            }, 
			{
                type: 'pie',
				name: '2014',
                radius: 70,
                center: ['80%', '30%'],
				label: {
					// show: false,
                    formatter: '{d}%',
					color: color_legend,
					fontSize: 20,
				},
				data: [
				    {value: yAxis_4_3a[3], name: 'A级'},
					{value: yAxis_4_3b[3], name: 'B级'},
					{value: yAxis_4_3c[3], name: 'C级'},
				]
            }, 
			{
                type: 'pie',
				name: '2015',
                radius: 70,
                center: ['30%', '70%'],
				label: {
					// show: false,
                    formatter: '{d}%',
					color: color_legend,
					fontSize: 20,
				},
				data: [
				    {value: yAxis_4_3a[4], name: 'A级'},
					{value: yAxis_4_3b[4], name: 'B级'},
					{value: yAxis_4_3c[4], name: 'C级'},
				]
            }, 
			{
                type: 'pie',
				name: '2016',
                radius: 70,
                center: ['50%', '70%'],
				label: {
					// show: false,
                    formatter: '{d}%',
					color: color_legend,
					fontSize: 20,
				},
				data: [
				    {value: yAxis_4_3a[5], name: 'A级'},
					{value: yAxis_4_3b[5], name: 'B级'},
					{value: yAxis_4_3c[5], name: 'C级'},
				]
            },
			{
                type: 'pie',
				name: '2017',
                radius: 70,
                center: ['70%', '70%'],
				label: {
					// show: false,
                    formatter: '{d}%',
					color: color_legend,
					fontSize: 20,
				},
				data: [
				    {value: yAxis_4_3a[6], name: 'A级'},
					{value: yAxis_4_3b[6], name: 'B级'},
					{value: yAxis_4_3c[6], name: 'C级'},
				]
            }
		]
	};
	//option之间切换，默认饼状图
	// if (option_4_3 && typeof option_4_3 === 'object') {
	// 	myChart_4_3.setOption(option_4_3);
	// 	console.log(ori_data_1_3)
	// }
	if (option_4_3_1 && typeof option_4_3_1 === 'object') {
		myChart_4_3.setOption(option_4_3_1);
		console.log(ori_data_1_3)
	}
	myChart_4_3.on('magictypechanged', function (params) {
		let o = { ...params };
		console.log(params)
		if(params.currentType == 'line'){
			option_4_3_2['series'][0]['data'] = yAxis_4_3a;
			option_4_3_2['series'][1]['data'] = yAxis_4_3b;
			option_4_3_2['series'][2]['data'] = yAxis_4_3c;
			option_4_3_2['xAxis']['data'] = xAxis_4_3;
			o.newOption = option_4_3_2;
		}else if(params.currentType == 'bar'){
			option_4_3_1['series'][0]['data'] = yAxis_4_3a;
			option_4_3_1['series'][1]['data'] = yAxis_4_3b;
			option_4_3_1['series'][2]['data'] = yAxis_4_3c;
			option_4_3_1['xAxis']['data'] = xAxis_4_3;
			o.newOption = option_4_3_1;
		}
		myChart_4_3.setOption(o.newOption, true);
	});

	myChart_4_3.on('restore', function (params) {
		let o = { ...params };
		console.log(params)
		o.newOption = option_4_3_1;
		myChart_4_3.setOption(o.newOption, true);
	});




var dom_1_6 = document.getElementById("container_2_3");
var myChart_1_6 = echarts.init(dom_1_6, 'chalk');
var app_1_6 = {};

function view_1_6_change(){
	console.log("3_6 change")
	//console.log(document.getElementById('view_1_6').value)
	document.getElementById('view_1_6').innerHTML = document.getElementById('view_1_6').value
}
var option_1_6_1 = {
	tooltip: {
		trigger: 'axis',
		axisPointer: {            // 坐标轴指示器，坐标轴触发有效
			type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
		}
	},
	toolbox: {
		show: true,
		itemSize: echart_toolbox_size, 
		orient: 'vertical',
		left: 'right',
		top: 'center',
		feature: {
			dataView: {
				show: true, 
				readOnly: false,
				optionToContent: function(opt) {
					console.log(opt)
					var axisData = opt['xAxis'][0]['data']
					var series = opt['series']
					console.log("start show")
					console.log(axisData)
					console.log(series)
					var table = '<textarea id="view_1_6" onchange="view_1_6_change()" style="width: 100%; height: 100%; font-family: monospace; font-size: 14px; line-height: 1.6rem; color: rgb(0, 0, 0); border-color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);">年份,安全检查人员/百人次,发出安全监察指令书,处罚罚金(万元)\n'
					for (var i = 0, l = axisData.length; i < l; i++) {

						table += axisData[i] + ',' + series[0].data[i] + ',' + series[1].data[i]  +',' + series[2].data[i]  + '\n'
					}
					table += '</textarea>'
					return table;
				},
				contentToOption: function(HTMLDomElement, opt) {
					console.log('start save')
					console.log(opt)
					console.log(HTMLDomElement.firstChild)
					var plain_tex = HTMLDomElement.firstChild.innerHTML
					var arr_tex = plain_tex.split('\n')
					console.log(arr_tex)
					xAxis_1_2 = []
					yAxis_1_2a = []
					yAxis_1_2b = []
					yAxis_1_2c = []

					for(var i = 1; i < arr_tex.length; i++) {
						cur_pair = arr_tex[i].split(',')
						if(cur_pair.length != 4) {
							//console.alert('wrong data')
							continue
						}
						if(cur_pair[0] == ' ' || cur_pair[0] == undefined) {
							continue
						}
						xAxis_1_2.push(cur_pair[0])
						yAxis_1_2a.push(cur_pair[1])
						yAxis_1_2b.push(cur_pair[2])
						yAxis_1_2c.push(cur_pair[3])
		
					}
					console.log(xAxis_1_2)
					console.log(yAxis_1_2a)
					console.log(yAxis_1_2b)
					console.log(yAxis_1_2c)
				
					option_1_6_1['series'][0]['data'] = yAxis_1_2a;
					option_1_6_1['series'][1]['data'] = yAxis_1_2b;
					option_1_6_1['series'][2]['data'] = yAxis_1_2c;
		
					option_1_6_1['xAxis']['data'] = xAxis_1_2;
					myChart_1_6.setOption(option_1_6_1);

					var Link = document.createElement('a')
					Link.download = "3_4_6.json"
					Link.style.display = 'none'
					//字符内容转变成blob地址
					var blob = new Blob(['callback_3_4_6('+JSON.stringify(option_1_6_1)+')'])
					Link.href = URL.createObjectURL(blob)
					//触发点击
					document.body.appendChild(Link)
					Link.click()
					//然后移除
					document.body.removeChild(Link)
					return opt
				},
			},
			magicType: {show: true, type: ['line', 'bar']},
			restore: {show: true},
			saveAsImage: {show: true}
		}
	},
	legend: {
		data: ['中国', '韩国', '日本', '其他'],
		textStyle: { //图例文字的样式
			color: color_legend,
			fontSize: fontSize_all_legend
		},
	},
	xAxis: {
		type: 'category',
		data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
		axisLabel:{
			textStyle: { //图例文字的样式
				color: color_axis,
				fontSize: fontSize_axis_label
			},
		}
	},
	yAxis: [
		{
			type: 'value',

			axisLabel: {
				fontSize: fontSize_axis_label
			}
		}
	],
	series: [
		{
			name: '销量',
			type: 'bar',
			data: [1,2,3],

		},
		{
			name: '汽车市场占比',
			type: 'bar',
			data: [],

		},
		{
			name: '汽车市场占比',
			type: 'bar',
			data: [],

		}
	]
};


var X_3_5 = ori_data_1_6['xAxis']['data'];
var Y_3_5 = ori_data_1_6['series'];

option_1_6_1['legend']['data'] = ori_data_1_6['legend']['data'];
option_1_6_1['xAxis']['data'] = X_3_5;

for(var i = 0; i < Y_3_5.length; ++i){
	option_1_6_1['series'][i]['data'] = Y_3_5[i]['data'];
	option_1_6_1['series'][i]['name'] = Y_3_5[i]['name'];
}

myChart_1_6.setOption(option_1_6_1);


</script>

<!-- <script>
	$('<i id="back-to-top" onclick="history.back()"></i>').appendTo($('body'));
	// $('<i id="back-to-top" onclick="location=\'./index_3.html\'"></i>').appendTo($('body'));
	$('#back-to-top').fadeIn();	
</script> -->

<script type="text/javascript" src="js/left_top_but.js"></script>
